(? не знаю, будет ли это работать...)

Есть один большой кольцевой буфер (<~1Gb), куда записываются все данные
из USB или при чтении файла. При каждой новой записи указатель
следующего буфера сдвигается на длину предыдущего. При достижении
конца буфера указатель возвращается в ноль (предполагается, что к
этому времени начало буфера уже обработано).

Должен быть глобальный указатель текущего буфера.

В параллельных потоках идет обработка данных в кольцевом буфере
(Decode33). Сигналы потокам подаются при достижении глобыльным
указателем длины кратной opt.rbuf_size. Начало и конец анализа
могут передаваться в *ctx (задать в виде структуры). Конец анализа
должен искаться аналогично MoveLastEvent.

??? В этих потоках должен быть
mutex для предотвращения повторного анализа данных ??? - ctx в это
время может измениться - ??? - так не пойдет...

!? Если задать достаточно много потоков - может все будет работать?

Должен быть глобальный указатель текущего потока. Число потоков не
обязательно раняется числу трансферов. Каждому буферу приписан свой
вектор импульсов и своя переменная - флаг готовности вектора.

Еще один параллельный поток сортирует 